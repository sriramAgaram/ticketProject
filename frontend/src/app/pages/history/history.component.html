<div class="p-6 max-w-3xl mx-auto">
    <h2 class="text-2xl font-bold text-gray-800 mb-6">ðŸ“œ History of Ticket #{{ ticketId }}</h2>

    <div class="relative border-l-2 border-blue-600 space-y-8 pl-6">

        @if(historyList.length === 0){
        <h1>No History Log For This Ticket</h1>
        }@else{
        @for (log of historyList; track log.id) {
        <div class="relative">
            <!-- Dot indicator -->
            <span class="absolute left-[-11px] top-1 w-4 h-4 bg-blue-600 rounded-full border-4 border-white"></span>

            <div class="bg-white p-4 rounded-lg shadow hover:shadow-md transition-all border">
                <div class="flex justify-between items-center mb-1">
                    <p class="text-gray-800 font-medium text-base px-2">
                        {{ log.action }}
                    </p>
                    <span class="text-xs text-gray-500">
                        {{ log.changedAt | date: 'medium' }}
                    </span>
                </div>

                <div class="text-sm text-gray-600 space-y-1 mt-1">
                    <p class="flex justify-start items-center">
                        <svg class="w-6 h-6 text-gray-800 dark:text-blue-500" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                            viewBox="0 0 24 24">
                            <path fill-rule="evenodd"
                                d="M12 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8Zm-2 9a4 4 0 0 0-4 4v1a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-1a4 4 0 0 0-4-4h-4Z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="font-medium text-gray-700">Updated By:</span>
                        {{ log.updatedByName || 'Unknown' }}
                    </p>

                    @if (log.oldAssignedName && log.newAssignedName) {
                    <p  class="flex justify-start items-center">
                        <svg class="w-6 h-6 text-gray-800 dark:text-blue-500" aria-hidden="true"
                            xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="m16 10 3-3m0 0-3-3m3 3H5v3m3 4-3 3m0 0 3 3m-3-3h14v-3" />
                        </svg>
                        <span class="font-medium text-gray-700">Reassigned:</span>
                        {{ log.oldAssignedName }} â†’ {{ log.newAssignedName }}
                    </p>
                    }

                </div>
            </div>
        </div>
        }
        }


    </div>
</div>