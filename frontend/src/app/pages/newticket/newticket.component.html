<div class="w-full flex flex-col justify-center items-center p-8 my-4 md:px-12   rounded-2xl ">
  <div class="shadow-lg w-[800px] p-10">
    <div class="flex">
      <h1 class="font-bold uppercase text-3xl">
        Create Tickets <br />
        For Your Problem
      </h1>
    </div>

    <form [formGroup]="ticketForm" (ngSubmit)="onSubmit()">
      <div class="grid grid-cols-1 gap-5 md:grid-cols-2 mt-5">
        <div >
          <input class="w-full bg-gray-200 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
            type="text" placeholder="Enter Your Title*" formControlName="title" [ngClass]="{
                'border-red-500':
                  ticketForm.get('title')?.invalid &&
                  ticketForm.get('title')?.touched
              }" required />

          <div *ngIf="
                ticketForm.get('title')?.invalid &&
                ticketForm.get('title')?.touched
              " class="text-red-600 text-sm mt-1">
            <div *ngIf="ticketForm.get('title')?.errors?.['required']">
              Title is required.
            </div>
            <div *ngIf="ticketForm.get('title')?.errors?.['maxlength']">
              Max 100 characters allowed.
            </div>
          </div>
        </div>

        <div>
          <select class="w-full bg-gray-200 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
            formControlName="category" required>
            <option value="">Select Your Category*</option>
            <option value="Bug">Bug</option>
            <option value="Feature Request">Feature Request</option>
            <option value="Support">Support</option>
            <option value="Billing">Billing</option>
            <option value="Account Issue">Account Issue</option>
            <option value="Other">Other</option>
          </select>

          <div *ngIf="
                ticketForm.get('category')?.invalid &&
                ticketForm.get('category')?.touched
              " class="text-red-600 text-sm mt-1">
            <div *ngIf="ticketForm.get('title')?.errors?.['required']">
              Category is required.
            </div>
          </div>
        </div>

        <div>
          <input class="w-full bg-gray-200 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
            type="tel" placeholder="Enter Your Phone*" formControlName="contactInfo" maxlength="10" required />

          <div *ngIf="
                ticketForm.get('contactInfo')?.invalid &&
                ticketForm.get('contactInfo')?.touched
              " class="text-red-600 text-sm mt-1">
            Phone Number is required.
          </div>
        </div>

        <div>
          <label for="uploadFile1"
            class="flex bg-gray-200 text-black text-base font-medium p-3 outline-none rounded w-full cursor-pointer mx-auto">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 mr-2 fill-black inline" viewBox="0 0 32 32">
              <path
                d="M23.75 11.044a7.99 7.99 0 0 0-15.5-.009A8 8 0 0 0 9 27h3a1 1 0 0 0 0-2H9a6 6 0 0 1-.035-12 1.038 1.038 0 0 0 1.1-.854 5.991 5.991 0 0 1 11.862 0A1.08 1.08 0 0 0 23 13a6 6 0 0 1 0 12h-3a1 1 0 0 0 0 2h3a8 8 0 0 0 .75-15.956z"
                data-original="#000000" />
              <path
                d="M20.293 19.707a1 1 0 0 0 1.414-1.414l-5-5a1 1 0 0 0-1.414 0l-5 5a1 1 0 0 0 1.414 1.414L15 16.414V29a1 1 0 0 0 2 0V16.414z"
                data-original="#000000" />
            </svg>
            Upload Your Files
            <input type="file" (change)="onImageSelected($event)" id="uploadFile1" class="hidden" />
          </label>
        </div>
      </div>
      <div class="my-4">
        <textarea formControlName="description" placeholder="Message*"
          class="w-full h-32 bg-gray-200 text-gray-900 mt-2 p-3 rounded-lg focus:outline-none focus:shadow-outline"
          maxlength="500" required></textarea>

        <div *ngIf="
              ticketForm.get('description')?.invalid &&
              ticketForm.get('description')?.touched
            " class="text-red-600 text-sm mt-1">
          Description is required.
        </div>
      </div>

      <div *ngIf="previewUrl" class="w-max">

        <div class="cursor-pointer w-full flex justify-end items-center" (click)="reset()">
          X
        </div>

        <img class="h-15" [src]="previewUrl" alt="">
      </div>

      <div class="my-2 w-1/2 lg:w-1/4">
        <button [disabled]="ticketForm.invalid" [class.bg-blue-300]="ticketForm.invalid"
          [class.bg-blue-900]="ticketForm.valid" type="submit"
          class="uppercase text-sm font-bold tracking-wide text-gray-100 p-3 rounded-lg w-full focus:outline-none focus:shadow-outline">
          Send Message
        </button>
      </div>
    </form>
  </div>

</div>